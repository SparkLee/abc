import{d as v,i as y,B as V,C as b,o as C,c as x,w as n,a as o,z as l,D as w,A as f,b as B}from"./index-yDPOmrMk.js";import{a as A}from"./axios-BimPEqV4.js";import{f as N,g as s,i as T,V as I,h as R}from"./VLayout-UxsyUswI.js";const U=v({__name:"listen",setup(z){const u=y(""),m=V(),c=A.create({baseURL:"https://api.menghuanpaoying.cn"});let a=0;const r=["山脚","当作","前面","毛手毛脚","晴朗","枯草","正好","头头是道","清早","现在","将来","风清月朗","大雪纷飞","枝头","脚尖","知道","道路","报道","跑道","朗朗上口","阵地","阵雨","阵脚","明朗","干枯","枯树","了却","将心比心","冷却","第一","门第","将要","难过","难道","纷纷","一言难尽"];b(()=>{c.get("/v1/aliyun/nls/token").then(function(e){u.value=e.data.token}).catch(function(e){alert("getToken err: "+e.message)})});function d(){a=0,i("准备好了，就点击“听写下一个”开始听写吧！")}function k(){if(a===0)return d();i(r[a-1])}function g(){let e=a<r.length?r[a++]:"真棒，已经全部听写完成啦，可以点击“重新开始”，再听一次哦！";i(e)}function i(e){e=encodeURIComponent(e),new Audio("https://nls-gateway.aliyuncs.com/stream/v1/tts?appkey=hzu1IYKCtKAgo7ko&token="+u.value+"&text="+e+"&voice=ruilin&format=mp3").play().catch(p=>{alert("audio.play() err: "+p.message)})}return(e,t)=>(C(),x(R,null,{default:n(()=>[o(I,{color:"teal-lighten-3",comfortable:""},{default:n(()=>[o(N,null,{default:n(()=>t[1]||(t[1]=[l("11 葡萄沟")])),_:1}),o(s,{icon:""},{default:n(()=>[o(T,{onClick:t[0]||(t[0]=p=>w(m).push("/"))},{default:n(()=>t[2]||(t[2]=[l("mdi-home")])),_:1})]),_:1})]),_:1}),o(B,{class:"pa-4 mt-16","min-height":"50px"},{default:n(()=>[o(s,{block:"",stacked:"",variant:"elevated",color:"red",onClick:d},{default:n(()=>t[3]||(t[3]=[l("重新开始")])),_:1}),t[6]||(t[6]=f("br",null,null,-1)),o(s,{block:"",stacked:"",variant:"outlined",color:"warning",onClick:k},{default:n(()=>t[4]||(t[4]=[l("没听清，请再说一次")])),_:1}),t[7]||(t[7]=f("br",null,null,-1)),o(s,{block:"",stacked:"",variant:"elevated",color:"green",onClick:g},{default:n(()=>t[5]||(t[5]=[l("听写下一个")])),_:1})]),_:1})]),_:1}))}});export{U as default};
